<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Template Method Pattern | 📝 Today Gimun Learned</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/TIL/images/logo-144.png">
    <link rel="manifest" href="/TIL/manifest.json">
    <meta name="description" content="Personal Wiki (Today I Learned)">
    <link rel="preload" href="/TIL/assets/css/0.styles.d478e3a5.css" as="style"><link rel="preload" href="/TIL/assets/js/app.3d875cf1.js" as="script"><link rel="preload" href="/TIL/assets/js/2.665be0f4.js" as="script"><link rel="preload" href="/TIL/assets/js/12.676d19bd.js" as="script"><link rel="preload" href="/TIL/assets/js/9.5442de94.js" as="script"><link rel="preload" href="/TIL/assets/js/10.0186ca23.js" as="script"><link rel="prefetch" href="/TIL/assets/js/11.d8e2e88a.js"><link rel="prefetch" href="/TIL/assets/js/13.c6904bf2.js"><link rel="prefetch" href="/TIL/assets/js/14.25b623ad.js"><link rel="prefetch" href="/TIL/assets/js/15.96b6e4ae.js"><link rel="prefetch" href="/TIL/assets/js/16.986ee545.js"><link rel="prefetch" href="/TIL/assets/js/17.c592a804.js"><link rel="prefetch" href="/TIL/assets/js/18.c95b0edd.js"><link rel="prefetch" href="/TIL/assets/js/19.a3a8db9b.js"><link rel="prefetch" href="/TIL/assets/js/20.291ec964.js"><link rel="prefetch" href="/TIL/assets/js/21.a4bef1d3.js"><link rel="prefetch" href="/TIL/assets/js/22.4ad3925b.js"><link rel="prefetch" href="/TIL/assets/js/23.6d4bf165.js"><link rel="prefetch" href="/TIL/assets/js/24.28de3946.js"><link rel="prefetch" href="/TIL/assets/js/25.c83e441f.js"><link rel="prefetch" href="/TIL/assets/js/26.61de3f2c.js"><link rel="prefetch" href="/TIL/assets/js/27.15fa532a.js"><link rel="prefetch" href="/TIL/assets/js/28.bf1a5828.js"><link rel="prefetch" href="/TIL/assets/js/29.f10719c1.js"><link rel="prefetch" href="/TIL/assets/js/3.023b1c34.js"><link rel="prefetch" href="/TIL/assets/js/30.f10f2c5a.js"><link rel="prefetch" href="/TIL/assets/js/31.9c3837e4.js"><link rel="prefetch" href="/TIL/assets/js/32.fe622bb1.js"><link rel="prefetch" href="/TIL/assets/js/33.e6271d99.js"><link rel="prefetch" href="/TIL/assets/js/34.bd0b0060.js"><link rel="prefetch" href="/TIL/assets/js/35.e1fea966.js"><link rel="prefetch" href="/TIL/assets/js/36.3468b7f7.js"><link rel="prefetch" href="/TIL/assets/js/4.b0a67ecb.js"><link rel="prefetch" href="/TIL/assets/js/5.bad944ca.js"><link rel="prefetch" href="/TIL/assets/js/6.0b0888e7.js"><link rel="prefetch" href="/TIL/assets/js/7.561a1368.js"><link rel="prefetch" href="/TIL/assets/js/8.1a533140.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.d478e3a5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">📝 Today Gimun Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/GimunLee/TIL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/GimunLee/TIL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>🎯 Goals For</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>💎 Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📖 Kubernetes</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📖 Angular Essentials</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📖 Object</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>📖 Head First Design Patterns</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/book-head-first-design-patterns/FP1 Factory Method Pattern.html" class="sidebar-link">Factory Pattern (1) Factory Method Pattern</a></li><li><a href="/TIL/book-head-first-design-patterns/FP2 Abstract Factory Pattern.html" class="sidebar-link">Factory Pattern (2) Abstract Factory Pattern</a></li><li><a href="/TIL/book-head-first-design-patterns/Strategy Pattern.html" class="sidebar-link">Strategy Pattern</a></li><li><a href="/TIL/book-head-first-design-patterns/Template Method Pattern.html" class="active sidebar-link">Template Method Pattern</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>📚 ETC</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="template-method-pattern"><a href="#template-method-pattern" class="header-anchor">#</a> Template Method Pattern</h1> <p id="abg">Assembled by GimunLee</p> <h2 id="goal"><a href="#goal" class="header-anchor">#</a> Goal</h2> <ul><li>Template Method Pattern의 개념을 알 수 있다.</li> <li>Template Method Pattern의 사용 이점에 대해 설명할 수 있다.</li> <li>Template Method Pattern을 사용할 수 있다.</li> <li>헐리우드 원칙과 Template Method Pattern의 관계에 대해 설명할 수 있다.</li></ul> <br> <h2 id="what-is-template-method-pattern"><a href="#what-is-template-method-pattern" class="header-anchor">#</a> What is Template Method Pattern?</h2> <p><code>Template Method Pattern</code> 에서는 메소드에서 알고리즘의 골격을 정의합니다. 알고리즘의 여러 단계 중 일부는 서브클래스에서 구현할 수 있습니다. 템플릿 메소드를 이용하면 알고리즘의 구조는 그대로 유지하면서 서브클래스에서 특정 단계를 재정의할 수 있습니다.</p> <p>이번 장에서는 주어진 상황을 통해 Template Method Pattern의 사용 이점과 구현 방법에 대해 알아보도록 하겠습니다.</p> <br> <h2 id="스타버즈-커피-바리스타-훈련용-메뉴얼"><a href="#스타버즈-커피-바리스타-훈련용-메뉴얼" class="header-anchor">#</a> 스타버즈 커피 바리스타 훈련용 메뉴얼</h2> <p>스타버즈 <strong>커피</strong> 만드는 법</p> <ol><li>물을 끓인다.</li> <li>끓는 물에 커피를 우려낸다.</li> <li>커피를 컵에 따른다.</li> <li>설탕과 우유를 추가한다.</li></ol> <p>스타버즈 <strong>홍차</strong> 만드는 법</p> <ol><li>물을 끓인다.</li> <li>끓는 물에 차를 우려낸다.</li> <li>차를 컵에 따른다.</li> <li>레몬을 추가한다.</li></ol> <p>위와 같은 메뉴얼을 코딩으로 구현한다면 여러분은 어떻게 구현하실건가요?</p> <br> <h2 id="일반적인-커피-및-홍차-클래스-만들기-java"><a href="#일반적인-커피-및-홍차-클래스-만들기-java" class="header-anchor">#</a> 일반적인 커피 및 홍차 클래스 만들기 (JAVA)</h2> <h4 id="coffee-class"><a href="#coffee-class" class="header-anchor">#</a> Coffee Class</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Coffee</span> <span class="token punctuation">{</span>
   	<span class="token keyword">void</span> <span class="token function">prepareRecipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">boilWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 물을 끓인다.</span>
        <span class="token function">brewCoffeeGrinds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 끓는 물에 커피를 우려낸다.</span>
        <span class="token function">pourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 커피를 컵에 따른다.</span>
        <span class="token function">addSugarAndMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 설탕과 우유를 추가한다.</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">boilWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;물 끓이는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">brewCoffeeGrinds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;필터를 통해서 커피를 우려내는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;컵에 따르는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addSugarAndMilk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;설탕과 우유를 추가하는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="tea-class"><a href="#tea-class" class="header-anchor">#</a> Tea Class</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Tea</span> <span class="token punctuation">{</span>
   	<span class="token keyword">void</span> <span class="token function">prepareRecipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">boilWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 물을 끓인다.</span>
        <span class="token function">steepTeaBag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 끓는 물에 차를 우려낸다.</span>
        <span class="token function">pourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 차를 컵에 따른다.</span>
        <span class="token function">addLemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 레몬을 추가한다.</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">boilWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;물 끓이는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">steepTeaBag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;차를 우려내는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;컵에 따르는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addLemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;레몬을 추가하는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>코드가 중복되어 있으면 디자인을 고쳐야 하지 않을까 생각해 보는 것이 좋습니다. Coffee하고 Tea 클래스가 거의 똑같으니까 공통적인 부분을 추상화시켜서 베이스 클래스를 만드는 것이 좋지 않을까요?</p> <br> <h2 id="일반적인-커피-및-홍차-추상화"><a href="#일반적인-커피-및-홍차-추상화" class="header-anchor">#</a> 일반적인 커피 및 홍차 추상화</h2> <img src="/TIL/assets/img/template-method-pattern-001.b98898f2.png"> <p>여러분도 위와 같이 생각하셨나요? <strong>이 밖에 Coffee와 Tea 사이에 공통점이 더 없는지 생각해 봅시다.</strong></p> <br> <h2 id="template-method-pattern-사용하기"><a href="#template-method-pattern-사용하기" class="header-anchor">#</a> Template Method Pattern 사용하기</h2> <p>커피와 홍차 사이에 또다른 공통점은 만드는 법의 <strong>알고리즘</strong> 이 똑같다는 것 입니다. 다시 한번 스타버즈의 메뉴얼을 살펴보면,</p> <ol><li>물을 끓인다.</li> <li>뜨거운 물을 이용하여 <code>커피 또는 홍차</code> 를 우려낸다.</li> <li>만들어진 음료를 컵에 따른다.</li> <li>각 음료에 맞는 첨가물을 추가한다.</li></ol> <p>이렇게 보니, 이미 추상화한 1번, 3번 이외에도 나머지 2번, 4번 또한 추상화가 가능할 것 같습니다. 먼저, 커피와 홍차에서 사용해도 이상하지 않도록 수퍼클래스의 메소드 이름을 바꿔보겠습니다.</p> <h4 id="caffeinebeverage-class"><a href="#caffeinebeverage-class" class="header-anchor">#</a> CaffeineBeverage Class</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">CaffeineBeverage</span> <span class="token punctuation">{</span>
	
    <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">prepareRecipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 서브클래스에서 이 메소드를 오버라이드해서 아무렇게나 </span>
                                 <span class="token comment">// 음료를 만들지 못하도록 final로 선언해줍니다.</span>
        <span class="token function">boilWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token function">pourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addCondiments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">void</span> <span class="token function">boilWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;물을 끓이는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment">// Coffee와 Tea에서 이 메소드를 서로 다른 방식으로 </span>
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">addCondiments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 처리하기 때문에 추상 메소드로 선언해줍니다.</span>
    
    <span class="token keyword">void</span> <span class="token function">pourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;컵에 따르는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre></div><h4 id="tea-class-2"><a href="#tea-class-2" class="header-anchor">#</a> Tea Class</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Tea</span> <span class="token keyword">extends</span> <span class="token class-name">CaffeineBeverage</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;차를 우려내는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCondiments</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;레몬을 추가하는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="coffee-class-2"><a href="#coffee-class-2" class="header-anchor">#</a> Coffee Class</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Coffee</span> <span class="token keyword">extends</span> <span class="token class-name">CaffeineBeverage</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;필터로 커피를 우려내는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addCondiments</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;설탕과 커피를 추가하는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>이처럼 <code>Template Method Pattern</code> 에서는 알고리즘의 각 단계들을 정의하며, 그 중 한 개 이상의 단계가 서브클래스에 의해 제공될 수 있습니다.</strong></p> <br> <h2 id="template-method-pattern의-사용-이점"><a href="#template-method-pattern의-사용-이점" class="header-anchor">#</a> Template Method Pattern의 사용 이점</h2> <ul><li>CoffeineBeverage 클래스에서 작업을 처리합니다. 알고리즘을 혼자 독점하고 있습니다.</li> <li>CoffeineBeverage 덕분에 서브클래스에서 코드를 재사용할 수 있습니다.</li> <li>알고리즘은 한 군데에 모여 있기 때문에 그 부분만 고치면 됩니다.</li> <li>Template Method Pattern을 사용하는 버전에서는 다른 카페인 음료도 쉽게 추가할 수 있는 프레임워크를 제공합니다. 카페인 음료를 추가할 때 몇 가지 메소드만 추가하면 됩니다.</li> <li>CaffeineBeverage 클래스에 알고리즘에 대한 지식이 집중되어 있으면 일부 구현만 서브클래스에 의존합니다.</li></ul> <br> <h2 id="template-method-pattern과-hook"><a href="#template-method-pattern과-hook" class="header-anchor">#</a> Template Method Pattern과 Hook</h2> <p>후크(hook)는 추상 클래스에서 선언되는 메소드긴 하지만 기본적인 내용만 구현되어 있거나 아무 코드도 들어있지 않은 메소드입니다. 이렇게 하면 서브클래스 입장에서는 다양한 위치에서 알고리즘에 끼어들 수 있습니다.</p> <p>후크는 다양한 용도로 사용할 수 있는데 우선 한가지 사용법을 살펴보겠습니다.</p> <h4 id="caffeinebeverage-class-2"><a href="#caffeinebeverage-class-2" class="header-anchor">#</a> CaffeineBeverage Class</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">CaffeineBeverageWithHook</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">prepareRecipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">boilWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token function">pourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">customerWantsCondiments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	<span class="token function">addCondiments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">void</span> <span class="token function">boilWater</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;물을 끓이는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">brew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          
    <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">addCondiments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    
    <span class="token keyword">void</span> <span class="token function">pourInCup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;컵에 따르는 중&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">boolean</span> <span class="token function">customerWantsCondiments</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 이 메소드는 서브클래스에서 필요에 따라 </span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token comment">// 오버라이드 할 수 있는 메소드이므로 후크입니다.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>이 후크를 사용하려면, Coffee나 Tea와 같은 서브클래스에서 필요에 따라 <code>customerWantsConidments()</code> 를 오버라이드해서 음료에 첨가물을 추가할지 여부를 결정할 수 있습니다.</p> <br> <h2 id="헐리우드-원칙"><a href="#헐리우드-원칙" class="header-anchor">#</a> 헐리우드 원칙</h2> <p>헐리우드 원칙은 디자인 원칙으로 <code>먼저 연락하지 마세요. 저희가 연락드리겠습니다.</code> 입니다.</p> <p>헐리우드 원칙을 활용하면 <code>의존성 부패(dependency rot)</code> 를 방지할 수 있습니다. 의존성 부패는 구성요소 간의 의존성이 복잡하게 꼬여있는 것을 의하는데, 이렇게 의존성이 부패하면 시스템이 어떤 식으로 디자인된 것인지 거의 아무도 알아볼 수 없게 됩니다.</p> <p>헐리우드 원칙을 사용하면, 저수준 구성요소에서 시스템에 접속을 할 수는 있지만, 언제 어떤 식으로 그 구성요소들을 사용할지는 고수준 구성요소에서 결정하게 됩니다. 즉, 고수준 구성요소에서 저수준 구성요소에게 &quot;먼저 연락하지마세요. 제가 먼저 연락드리겠습니다.&quot; 라고 얘기를 하는 것과 같습니다.</p> <br> <h2 id="헐리우드-원칙과-template-method-pattern"><a href="#헐리우드-원칙과-template-method-pattern" class="header-anchor">#</a> 헐리우드 원칙과 Template Method Pattern</h2> <p>위의 예제에서 설명하자면, CaffeineBeverage는 고수준 구성요소입니다. 음료를 만드는 방법에 해당하는 알고리즘을 장악하고 있고, 메소드 구현이 필요한 상황에서만 서브클래스를 불러냅니다.</p> <p>서브클래스는 자질구레한 메소드 구현을 제공하기 위한 용도로만 사용됩니다.</p> <p>CaffaeineBeverage 클래스의 클라이언트에서는 Tea나 Coffee 같은 구상 클래스가 아닌 CaffeineBeverage에 추상화되어 있는 부분에 의존하게 됩니다. 그렇게 함으로써 전체 시스템의 의존성이 줄어들 수 있습니다.</p> <p>이 밖에도 헐리우드 원칙을 사용하는 디자인 패턴에는 <strong>Factory Method Pattern</strong> , <strong>Observer Pattern</strong> 등이 있습니다.</p> <br> <h2 id="conclusion"><a href="#conclusion" class="header-anchor">#</a> Conclusion</h2> <p>Template Method Pattern은 프레임워크를 만드는 데 아주 훌륭한 디자인 도구라고 합니다. 프레임워크를 사용함으로써 작업이 처리되는 방식은 제어할 수 있으면서도, 프레임우크에서 처리하는 알고리즘의 각 단계는 그 프레임워크를 사용하는 사람 마음대로 지정할 수 있기 때문입니다.</p> <p>Template Method Pattern와 Strategy Pattern은 상당히 유사해보이는데, 분명한 차이가 있습니다. 이 부분에 대해서는 추후 정리해보겠습니다.</p> <br> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <ul><li>Head First Design Patterns</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/3/2020, 4:36:24 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/TIL/book-head-first-design-patterns/Strategy Pattern.html" class="prev">
        Strategy Pattern
      </a></span> <span class="next"><a href="/TIL/etc/Memo.html">
        Memo
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/TIL/assets/js/app.3d875cf1.js" defer></script><script src="/TIL/assets/js/2.665be0f4.js" defer></script><script src="/TIL/assets/js/12.676d19bd.js" defer></script><script src="/TIL/assets/js/9.5442de94.js" defer></script><script src="/TIL/assets/js/10.0186ca23.js" defer></script>
  </body>
</html>
