<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>12μ¥ νλ“ μ¤μΌ€μ¤„λ§ | π“ Today Gimun Learned</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/TIL/images/logo-144.png">
    <link rel="manifest" href="/TIL/manifest.json">
    <meta name="description" content="Personal Wiki (Today I Learned)">
    <link rel="preload" href="/TIL/assets/css/0.styles.d478e3a5.css" as="style"><link rel="preload" href="/TIL/assets/js/app.6d51d112.js" as="script"><link rel="preload" href="/TIL/assets/js/2.665be0f4.js" as="script"><link rel="preload" href="/TIL/assets/js/31.7df1dd49.js" as="script"><link rel="preload" href="/TIL/assets/js/9.9b43db21.js" as="script"><link rel="preload" href="/TIL/assets/js/10.0186ca23.js" as="script"><link rel="prefetch" href="/TIL/assets/js/11.02bf2f38.js"><link rel="prefetch" href="/TIL/assets/js/12.676d19bd.js"><link rel="prefetch" href="/TIL/assets/js/13.c6904bf2.js"><link rel="prefetch" href="/TIL/assets/js/14.ff20580a.js"><link rel="prefetch" href="/TIL/assets/js/15.dd747fe6.js"><link rel="prefetch" href="/TIL/assets/js/16.986ee545.js"><link rel="prefetch" href="/TIL/assets/js/17.c592a804.js"><link rel="prefetch" href="/TIL/assets/js/18.c95b0edd.js"><link rel="prefetch" href="/TIL/assets/js/19.a3a8db9b.js"><link rel="prefetch" href="/TIL/assets/js/20.291ec964.js"><link rel="prefetch" href="/TIL/assets/js/21.a4bef1d3.js"><link rel="prefetch" href="/TIL/assets/js/22.4ad3925b.js"><link rel="prefetch" href="/TIL/assets/js/23.6d4bf165.js"><link rel="prefetch" href="/TIL/assets/js/24.28de3946.js"><link rel="prefetch" href="/TIL/assets/js/25.c83e441f.js"><link rel="prefetch" href="/TIL/assets/js/26.61de3f2c.js"><link rel="prefetch" href="/TIL/assets/js/27.15fa532a.js"><link rel="prefetch" href="/TIL/assets/js/28.a185f3fa.js"><link rel="prefetch" href="/TIL/assets/js/29.8d45c731.js"><link rel="prefetch" href="/TIL/assets/js/3.023b1c34.js"><link rel="prefetch" href="/TIL/assets/js/30.f67b9aa0.js"><link rel="prefetch" href="/TIL/assets/js/32.40d59edd.js"><link rel="prefetch" href="/TIL/assets/js/33.5510930b.js"><link rel="prefetch" href="/TIL/assets/js/34.922d61b7.js"><link rel="prefetch" href="/TIL/assets/js/35.f21434a2.js"><link rel="prefetch" href="/TIL/assets/js/36.2a19b6a6.js"><link rel="prefetch" href="/TIL/assets/js/37.85434dd0.js"><link rel="prefetch" href="/TIL/assets/js/38.3178dcc5.js"><link rel="prefetch" href="/TIL/assets/js/39.c4e76c3e.js"><link rel="prefetch" href="/TIL/assets/js/4.b0a67ecb.js"><link rel="prefetch" href="/TIL/assets/js/5.bad944ca.js"><link rel="prefetch" href="/TIL/assets/js/6.0b0888e7.js"><link rel="prefetch" href="/TIL/assets/js/7.a7b2723d.js"><link rel="prefetch" href="/TIL/assets/js/8.c112f2bb.js">
    <link rel="stylesheet" href="/TIL/assets/css/0.styles.d478e3a5.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/TIL/" class="home-link router-link-active"><!----> <span class="site-name">π“ Today Gimun Learned</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/GimunLee/TIL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/GimunLee/TIL" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>π― Goals For</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>π’ Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>π“– Kubernetes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/TIL/book-kubernetes/01μ¥ μΏ λ²„λ„¤ν‹°μ¤.html" class="sidebar-link">01μ¥ μΏ λ²„λ„¤ν‹°μ¤</a></li><li><a href="/TIL/book-kubernetes/02μ¥ μΏ λ²„λ„¤ν‹°μ¤ λ„κµ¬.html" class="sidebar-link">02μ¥ μΏ λ²„λ„¤ν‹°μ¤ λ„κµ¬</a></li><li><a href="/TIL/book-kubernetes/03μ¥ μΏ λ²„λ„¤ν‹°μ¤λ΅ μ»¨ν…μ΄λ„ μ‹¤ν–‰ν•κΈ°.html" class="sidebar-link">03μ¥ μΏ λ²„λ„¤ν‹°μ¤ μ»¨ν…μ΄λ„ μ‹¤ν–‰ν•κΈ°</a></li><li><a href="/TIL/book-kubernetes/04μ¥ μΏ λ²„λ„¤ν‹°μ¤ κΈ°λ³Έ κ°λ….html" class="sidebar-link">04μ¥ μΏ λ²„λ„¤ν‹°μ¤ κΈ°λ³Έ κ°λ…</a></li><li><a href="/TIL/book-kubernetes/05μ¥ νλ“.html" class="sidebar-link">05μ¥ νλ“</a></li><li><a href="/TIL/book-kubernetes/06μ¥ μ»¨νΈλ΅¤λ¬.html" class="sidebar-link">06μ¥ μ»¨νΈλ΅¤λ¬</a></li><li><a href="/TIL/book-kubernetes/07μ¥ μ„λΉ„μ¤.html" class="sidebar-link">07μ¥ μ„λΉ„μ¤</a></li><li><a href="/TIL/book-kubernetes/08μ¥ μΈκ·Έλ μ¤.html" class="sidebar-link">08μ¥ μΈκ·Έλ μ¤</a></li><li><a href="/TIL/book-kubernetes/09μ¥ λ μ΄λΈ”κ³Ό μ–΄λ…Έν…μ΄μ….html" class="sidebar-link">λ μ΄λΈ”κ³Ό μ• λ„ν…μ΄μ…</a></li><li><a href="/TIL/book-kubernetes/10μ¥ μ»¨ν”Όκ·Έλ§µ.html" class="sidebar-link">10μ¥ μ»¨ν”Όκ·Έλ§µ</a></li><li><a href="/TIL/book-kubernetes/11μ¥ μ‹ν¬λ¦Ώ.html" class="sidebar-link">11μ¥ μ‹ν¬λ¦Ώ</a></li><li><a href="/TIL/book-kubernetes/12μ¥ νλ“ μ¤μΌ€μ¤„λ§.html" class="active sidebar-link">12μ¥ νλ“ μ¤μΌ€μ¤„λ§</a></li><li><a href="/TIL/book-kubernetes/λ³µμ‚¬μ©.html" class="sidebar-link">/book-kubernetes/λ³µμ‚¬μ©.html</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>π“– Angular Essentials</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>π“– Object</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>π“– Head First Design Patterns</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>π“ ETC</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_12μ¥-νλ“-μ¤μΌ€μ¤„λ§"><a href="#_12μ¥-νλ“-μ¤μΌ€μ¤„λ§" class="header-anchor">#</a> 12μ¥ νλ“ μ¤μΌ€μ¤„λ§</h1> <p id="abg">Assembled by GimunLee</p> <br> <h2 id="νλ“-μ¤μΌ€μ¤„λ§"><a href="#νλ“-μ¤μΌ€μ¤„λ§" class="header-anchor">#</a> νλ“ μ¤μΌ€μ¤„λ§</h2> <ul><li>νΉμ • νλ“λ“¤μ„ λ…Έλ“ ν•λ‚μ— λ¨μ•„λ‘κ±°λ‚ νΉμ • IP λ€μ—­μ λ…Έλ“λ“¤μ—μ„λ§ μ‹¤ν–‰</li> <li>κ°™μ€ κΈ°λ¥μ΄ μλ” νλ“λ“¤μ΄ λ…Έλ“ ν•λ‚μ— λ°λ ¤μμ§€ μ•λ„λ΅ λ¶„μ‚° μ‹¤ν–‰</li> <li>κ΄€λ¦¬κ°€ ν•„μ”ν• λ…Έλ“κ°€ μμ„λ• ν•΄λ‹Ή λ…Έλ“μ— μλ” νλ“λ“¤μ„ λ‹¤λ¥Έ λ…Έλ“λ΅ μ΄λ™</li></ul> <br> <h2 id="λ…Έλ“μ…€λ ‰ν„°"><a href="#λ…Έλ“μ…€λ ‰ν„°" class="header-anchor">#</a> λ…Έλ“μ…€λ ‰ν„°</h2> <ul><li>κ°€μ¥ κ°„λ‹¨ν• μ¤μΌ€μ¤„λ§ μµμ…μ„ <code>.spec</code> ν•„λ“μ— μ„¤μ • κ°€λ¥ν• λ…Έλ“μ…€λ ‰ν„°κ°€ μμ</li> <li>νλ“κ°€ ν΄λ¬μ¤ν„° μ• μ–΄λ–¤ λ…Έλ“μ—μ„ μ‹¤ν–‰λ μ§€λ¥Ό ν‚¤-κ°’ μμΌλ΅ μ„¤μ •</li> <li>λ…Έλ“μ…€λ ‰ν„°λ” λ…Έλ“μ λ μ΄λΈ”μ— μ„¤μ •λ κ°’μΌλ΅ λ…Έλ“λ¥Ό μ„ νƒ</li></ul> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>nodeselector<span class="token punctuation">-</span>pod
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>nodeselector<span class="token punctuation">-</span>pod
    <span class="token key atrule">image</span><span class="token punctuation">:</span> arisu1000/simple<span class="token punctuation">-</span>container<span class="token punctuation">-</span>app<span class="token punctuation">:</span>latest
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token key atrule">nodeSelector</span><span class="token punctuation">:</span> 
    <span class="token key atrule">disktype</span><span class="token punctuation">:</span> ssd  <span class="token comment"># disktypeμ΄ ssdμΈ λ…Έλ“μ— μ‹¤ν–‰ κ°€λ¥</span>
</code></pre></div><br> <h2 id="μ–΄ν”Όλ‹ν‹°μ™€-μ•ν‹°-μ–΄ν”Όλ‹ν‹°"><a href="#μ–΄ν”Όλ‹ν‹°μ™€-μ•ν‹°-μ–΄ν”Όλ‹ν‹°" class="header-anchor">#</a> μ–΄ν”Όλ‹ν‹°μ™€ μ•ν‹° μ–΄ν”Όλ‹ν‹°</h2> <ul><li>νλ“λ“¤μ„ ν•¨κ» λ¬¶μ–΄μ„ κ°™μ€ λ…Έλ“μ—μ„ μ‹¤ν–‰ν•λ„λ΅ μ„¤μ •ν•λ” μ–΄ν”Όλ‹ν‹°μ™€ νλ“λ“¤μ„ λ‹¤λ¥Έ λ…Έλ“μ— λ‚λ„μ–΄μ„ μ‹¤ν–‰ν•λ„λ΅ μ„¤μ •ν•λ” μ•ν‹° μ–΄ν”Όλ‹ν‹°</li></ul> <h3 id="λ…Έλ“-μ–΄ν”Όλ‹ν‹°-node-affinity"><a href="#λ…Έλ“-μ–΄ν”Όλ‹ν‹°-node-affinity" class="header-anchor">#</a> λ…Έλ“ μ–΄ν”Όλ‹ν‹°(Node affinity)</h3> <ul><li>λ…Έλ“ μ–΄ν”Όλ‹ν‹°λ” λ…Έλ“μ…€λ ‰ν„°μ™€ λΉ„μ·ν•κ² λ…Έλ“μ λ μ΄λΈ” κΈ°λ°μΌλ΅ νλ“λ¥Ό μ¤μΌ€μ¤„λ§</li> <li>λ…Έλ“ μ–΄ν”Όλ‹ν‹°μ™€ λ…Έλ“μ…€λ ‰ν„°λ¥Ό ν•¨κ» μ„¤μ •ν•  μ μμΌλ©° μ΄λ•λ” λ…Έλ“ μ–΄ν”Όλ‹ν‹°μ™€ λ…Έλ“μ…€λ ‰ν„°μ μ΅°κ±΄μ„ λ¨λ‘. λ§μ΅±ν•λ” λ…Έλ“μ— νλ“λ¥Ό μ¤μΌ€μ¤„λ§</li> <li><code>requiredDuringSchedulingIgnoredDuringExecution</code>,<code>preferredDuringSchedulingIgnoredDuringExecution</code> λ‘ ν•„λ“λ” μ‹¤ν–‰ μ¤‘μ— μ΅°κ±΄μ΄ λ°”λ€μ–΄λ„ λ¬΄μ‹; νλ“κ°€ μ΄λ―Έ μ¤μΌ€μ¤„λ§λμ–΄ νΉμ • λ…Έλ“μ—μ„ μ‹¤ν–‰ μ¤‘μ΄λΌλ©΄ μ¤‘κ°„μ— ν•΄λ‹Ή λ…Έλ“μ μ΅°κ±΄μ΄ λ³€κ²½λλ”λΌλ„ μ΄λ―Έ μ‹¤ν–‰ μ¤‘μΈ νλ“λ” κ·Έλ€λ΅ μ‹¤ν–‰λλ‹¤λ” λ»</li></ul> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Pod
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>nodeaffinity<span class="token punctuation">-</span>pod
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">containers</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>nodeaffinity<span class="token punctuation">-</span>pod
    <span class="token key atrule">image</span><span class="token punctuation">:</span> arisu1000/simple<span class="token punctuation">-</span>container<span class="token punctuation">-</span>app<span class="token punctuation">:</span>latest
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token key atrule">affinity</span><span class="token punctuation">:</span> <span class="token comment"># μ–΄ν”Όλ‹ν‹° μ„¤μ •</span>
    <span class="token key atrule">nodeAffinity</span><span class="token punctuation">:</span> <span class="token comment"># λ…Έλ“ μ–΄ν”Όλ‹ν‹°</span>
      <span class="token key atrule">requiredDuringSchedulingIgnoredDuringExecution</span><span class="token punctuation">:</span> <span class="token comment"># μ¤μΌ€μ¤„λ§ν•λ” λ™μ• κΌ­ ν•„μ”ν• μ΅°κ±΄</span>
        <span class="token key atrule">nodeSelectorTerms</span><span class="token punctuation">:</span> <span class="token comment"># λ…Έλ“ μ–΄ν”Όλ‹ν‹° μ ν•</span>
        <span class="token punctuation">-</span> <span class="token key atrule">matchExpressions</span><span class="token punctuation">:</span> <span class="token comment"># μ—°κ΄€λ λ…Έλ“μ…€λ ‰ν„° μ„¤μ •μ„ μ—°κ²°ν•λ” ν•„λ“</span>
          <span class="token punctuation">-</span> <span class="token key atrule">key</span><span class="token punctuation">:</span> beta.kubernetes.io/os <span class="token comment"># λ…Έλ“μ λ μ΄λΈ” ν‚¤ μ¤‘ ν•λ‚λ¥Ό μ„¤μ •</span>
            <span class="token key atrule">operator</span><span class="token punctuation">:</span> In <span class="token comment"># ν‚¤κ°€ λ§μ΅±ν•  μ΅°κ±΄ </span>
	            <span class="token comment"># In: .values[] ν•„λ“μ— μ„¤μ •ν• κ°’ μ¤‘ λ μ…γ„Ήμ— μλ” κ°’κ³Ό μΌμΉν•λ” κ²ƒμ΄ ν•λ‚λΌλ„ μλ”μ§€ ν™•μΈ</span>
	            <span class="token comment"># NotIn: Inκ³Ό λ°λ€λ΅ .values[] ν•„λ“μ— μλ” κ°’ λ¨λ‘μ™€ λ§μ§€ μ•λ”μ§€ ν™•μΈ</span>
	            <span class="token comment"># Exists: .values[] ν•„λ“κ°€ ν•„μ” μ—†κ³  .key ν•„λ“μ— μ„¤μ •ν• κ°’μ΄ λ μ΄λΈ”μ— μλ”μ§€λ§ ν™•μΈ</span>
	            <span class="token comment"># DoesNotExist: Existsμ™€ λ°λ€</span>
	            <span class="token comment"># Gt: Greater thanμΌλ΅ .values[] ν•„λ“μ— μ„¤μ •λ κ°’λ³΄λ‹¤ ν° μ«μν• λ°μ΄ν„°μΈμ§€λ¥Ό ν™•μΈ. valuesμ— κ°’μ΄ ν•λ‚λ§ μμ–΄μ•Όν•¨</span>
	            <span class="token comment"># Lt: Lower thanμΌλ΅ Gtμ™€ λ°λ€</span>
            <span class="token key atrule">values</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> linux
            <span class="token punctuation">-</span> window
          <span class="token punctuation">-</span> <span class="token key atrule">key</span><span class="token punctuation">:</span> disktype
            <span class="token key atrule">operator</span><span class="token punctuation">:</span> Exists
          <span class="token comment"># - key: core</span>
            <span class="token comment"># operator: Gt</span>
            <span class="token comment"># values:</span>
            <span class="token comment"># - &quot;4&quot;</span>
      <span class="token key atrule">preferredDuringSchedulingIgnoredDuringExecution</span><span class="token punctuation">:</span> <span class="token comment"># ν•„μλ” μ•„λ‹μ§€λ§ μ¤μΌ€μ¤„λ§ν•λ” λ™μ• λ§μ΅±ν•λ©΄ μΆ‹μ€ μ΅°κ±΄</span>
      <span class="token punctuation">-</span> <span class="token key atrule">weight</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment"># 1λ¶€ν„° 100κΉμ§€μ κ°’ μ„¤μ • κ°€λ¥; λ…Έλ“μ μ„¤μ •μ΄ λ§μ„ λ• λ§λ‹¤ .weight ν•„λ“ κ°’μ„ λ”ν•κ³ , .weight ν•©μ‚°μ΄ κ°€μ¥ ν° λ…Έλ“λ¥Ό μ„ νƒ</span>
        <span class="token key atrule">preference</span><span class="token punctuation">:</span> <span class="token comment"># ν•΄λ‹Ή μ΅°κ±΄μ— λ§λ” κ±Έ μ„ νΈ</span>
          <span class="token key atrule">matchExpressions</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">key</span><span class="token punctuation">:</span> kubernetes.io/hostname
            <span class="token key atrule">operator</span><span class="token punctuation">:</span> In
            <span class="token key atrule">values</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> worker<span class="token punctuation">-</span>node01
</code></pre></div><h3 id="νλ“μ-μ–΄ν”Όλ‹ν‹°μ™€-μ•ν‹°-μ–΄ν”Όλ‹ν‹°"><a href="#νλ“μ-μ–΄ν”Όλ‹ν‹°μ™€-μ•ν‹°-μ–΄ν”Όλ‹ν‹°" class="header-anchor">#</a> νλ“μ μ–΄ν”Όλ‹ν‹°μ™€ μ•ν‹° μ–΄ν”Όλ‹ν‹°</h3> <ul><li>νλ“ μ‚¬μ΄μ μ–΄ν”Όλ‹ν‹°μ™€ μ•ν‹° μ–΄ν”Όλ‹ν‹°λ” λ””ν”λ΅μ΄λ¨ΌνΈλ‚ μ¤ν…μ΄νΈν’€μ„ΈνΈλ΅ νλ“λ¥Ό λ°°ν¬ν–μ„ λ• κ°λ³„ νλ“ μ‚¬μ΄μ κ΄€κ³„λ¥Ό μ •μν•λ” μ©λ„λ΅ μ‚¬μ©</li></ul> <h4 id="μ–΄ν”Όλ‹ν‹°"><a href="#μ–΄ν”Όλ‹ν‹°" class="header-anchor">#</a> μ–΄ν”Όλ‹ν‹°</h4> <ul><li>μ»¨ν…μ΄λ„λ΅ μ„λΉ„μ¤λ¥Ό μ΄μν•λ‹¤ λ³΄λ©΄ μ„λΉ„μ¤ Aμ νλ“μ™€ μ„λΉ„μ¤ Bμ νλ“ μ‚¬μ΄μ— μμ£Ό ν†µμ‹ ν•  λ•κ°€ μλ”λ°, μ΄λ• μ΄ λ‘ νλ“λ¥Ό κ°™μ€ λ…Έλ“μ— μ†ν•κ² λ§λ“¤μ–΄ ν¨μ¨μ„ λ†’μ„</li> <li>κ°€μ¥ ν”ν• μλ΅ λ°μ΄ν„°λ² μ΄μ¤λ‚ μΊμ‹ κ°™μ€ μ„λΉ„μ¤μ™€ ν†µμ‹ ν•λ” μ•± μ»¨ν…μ΄λ„λ¥Ό κ°™μ€ λ…Έλ“μ— λ‘μ–΄ λ„¤νΈμ›ν¬ ν†µμ‹  λΉ„μ©μ„ μ¤„μ΄λ” κ²ƒ</li></ul> <h4 id="μ•ν‹°-μ–΄ν”Όλ‹ν‹°"><a href="#μ•ν‹°-μ–΄ν”Όλ‹ν‹°" class="header-anchor">#</a> μ•ν‹° μ–΄ν”Όλ‹ν‹°</h4> <ul><li>CPUλ‚ λ„¤νΈμ›ν¬ κ°™μ€ ν•λ“μ›¨μ–΄ μμ›μ„ λ§μ΄ μ‚¬μ©ν•λ” μ•± μ»¨ν…μ΄λ„κ°€ μμ„ λ• μ—¬λ¬ λ…Έλ“λ΅ νλ“λ¥Ό λ¶„μ‚°ν•λ” κ²ƒ</li> <li>μ•ν‹° μ–΄ν”Όλ‹ν‹°λ¥Ό μ„¤μ •ν•μ§€ μ•μΌλ©΄ λ””ν”λ΅μ΄λ¨ΌνΈλ΅ λ°°ν¬ν• νλ“κ°€ λ…Έλ“ ν•λ‚μ—μ„λ§ μ‹¤ν–‰λμ–΄ μμ›μ„ λ§μ΄ μ†λ¨ν•  μ μμ</li></ul> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> redis<span class="token punctuation">-</span>cache
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> store
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> store
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">affinity</span><span class="token punctuation">:</span> 
        <span class="token key atrule">podAntiAffinity</span><span class="token punctuation">:</span>
          <span class="token key atrule">requiredDuringSchedulingIgnoredDuringExecution</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> <span class="token key atrule">labelSelector</span><span class="token punctuation">:</span>
              <span class="token key atrule">matchExpressions</span><span class="token punctuation">:</span>
              <span class="token punctuation">-</span> <span class="token key atrule">key</span><span class="token punctuation">:</span> app
                <span class="token key atrule">operator</span><span class="token punctuation">:</span> In
                <span class="token key atrule">values</span><span class="token punctuation">:</span>
                <span class="token punctuation">-</span> store <span class="token comment"># app ν•„λ“ κ°’μ΄ storeμΈ νλ“κ°€ μ†ν• λ…Έλ“λ¥Ό ν”Όν•΄μ„ νλ“λ¥Ό μ¶”κ°€ν•λ‹¤λ” μ„¤μ • 	</span>
            <span class="token key atrule">topologyKey</span><span class="token punctuation">:</span> <span class="token string">&quot;kubernetes.io/hostname&quot;</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> redis<span class="token punctuation">-</span>server
        <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>3.2<span class="token punctuation">-</span>alpine
</code></pre></div><br> <h2 id="ν…μΈνΈμ™€-ν†¨λ¬λ μ΄μ…"><a href="#ν…μΈνΈμ™€-ν†¨λ¬λ μ΄μ…" class="header-anchor">#</a> ν…μΈνΈμ™€ ν†¨λ¬λ μ΄μ…</h2> <ul><li>μΏ λ²„λ„¤ν‹°μ¤ ν΄λ¬μ¤ν„°μ νΉμ • λ…Έλ“μ— ν…μΈνΈλ¥Ό μ„¤μ •ν•  μ μλ”λ°, ν…μΈνΈλ¥Ό μ„¤μ •ν•λ©΄ μ„¤μ •ν• λ…Έλ“μ—λ” νλ“λ“¤μ„ μ¤μΌ€μ¤„λ§ν•μ§€ μ•μ</li> <li>ν…μΈνΈλ¥Ό μ„¤μ •ν• λ…Έλ“μ— νλ“λ“¤μ„ μ¤μΌ€μ¤„λ§ν•κΈ° μ„ν•΄μ„λ” ν†¨λ¬λ μ΄μ…μ„ μ„¤μ •ν•΄μ•Όν•¨</li> <li>ν…μΈνΈλ” ν†¨λ¬λ μ΄μ…μ—μ„ μ„¤μ •ν• νΉμ • νλ“λ“¤λ§ μ‹¤ν–‰ν•κ³  λ‹¤λ¥Έ νλ“λ” μ‹¤ν–‰ν•μ§€ λ»ν•κ² ν•¨</li> <li><strong>ν…μΈνΈμ™€ ν†¨λ¬λ μ΄μ…μ€ μ£Όλ΅ λ…Έλ“λ¥Ό νΉμ • μ—­ν• λ§ ν•λ„λ΅ λ§λ“¤ λ• μ‚¬μ©</strong></li> <li>μλ¥Ό λ“¤μ–΄ λ°μ΄ν„°λ² μ΄μ¤μ© νλ“λ¥Ό μ‹¤ν–‰ν• ν›„ λ…Έλ“ μ „μ²΄μ CPUλ‚ RAM μμ›μ„ λ…μ ν•΄μ„ μ‚¬μ©ν•  μ μλ„λ΅ μ„¤μ •ν•λ” κ²ƒ</li> <li>ν…μΈνΈλ” ν‚¤, κ°’, ν¨κ³Όμ μ„Έ κ°€μ§€λ΅ κµ¬μ„±λ¨. <code>kubectl taint nodes {λ…Έλ“μ΄λ¦„} {ν‚¤=κ°’:ν¨κ³Ό}</code></li></ul> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> apps/v1
<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment
<span class="token key atrule">metadata</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>simple<span class="token punctuation">-</span>app
  <span class="token key atrule">labels</span><span class="token punctuation">:</span>
    <span class="token key atrule">app</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>simple<span class="token punctuation">-</span>app
<span class="token key atrule">spec</span><span class="token punctuation">:</span>
  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token key atrule">selector</span><span class="token punctuation">:</span>
    <span class="token key atrule">matchLabels</span><span class="token punctuation">:</span>
      <span class="token key atrule">app</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>simple<span class="token punctuation">-</span>app
  <span class="token key atrule">template</span><span class="token punctuation">:</span>
    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>
      <span class="token key atrule">labels</span><span class="token punctuation">:</span>
        <span class="token key atrule">app</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>simple<span class="token punctuation">-</span>app
    <span class="token key atrule">spec</span><span class="token punctuation">:</span>
      <span class="token key atrule">containers</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> kubernetes<span class="token punctuation">-</span>simple<span class="token punctuation">-</span>app
        <span class="token key atrule">image</span><span class="token punctuation">:</span> arisu1000/simple<span class="token punctuation">-</span>container<span class="token punctuation">-</span>app<span class="token punctuation">:</span>latest
        <span class="token key atrule">ports</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>
      <span class="token key atrule">tolerations</span><span class="token punctuation">:</span> <span class="token comment"># ν…μΈνΈκ°€ μ„¤μ •λ λ…Έλ“μ— μ‹¤ν–‰μ‹ν‚¤κΈ° μ„ν• ν†¨λ¬λ μ΄μ… μ„¤μ •</span>
      <span class="token punctuation">-</span> <span class="token key atrule">key</span><span class="token punctuation">:</span> <span class="token string">&quot;key01&quot;</span>
        <span class="token key atrule">operator</span><span class="token punctuation">:</span> <span class="token string">&quot;Equal&quot;</span>
        <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">&quot;value01&quot;</span>
        <span class="token key atrule">effect</span><span class="token punctuation">:</span> <span class="token string">&quot;NoSchedule&quot;</span>
        	<span class="token comment"># NoSchedule: ν†¨λ¬λ μ΄μ… μ„¤μ •μ΄ μ—†μΌλ©΄ νλ“λ¥Ό μ¤μΌ€μ¤„λ§ν•μ§€ μ•μ. κΈ°μ΅΄μ— μ‹¤ν–‰λλ νλ“μ—λ” μ μ©λμ§€ μ•μ</span>
        	<span class="token comment"># PreferNoSchedule: ν†¨λ¬λ μ΄μ… μ„¤μ •μ΄ μ—†μΌλ©΄ νλ“λ¥Ό μ¤μΌ€μ¤„λ§ν•μ§€ μ•μ. ν•μ§€λ§ μμ›μ΄ λ¶€μ΅±ν•λ©΄ μ¤μΌ€μ¤„λ§ κ°€λ¥</span>
        	<span class="token comment"># NoExecute: ν†¨λ¬λ μ΄μ… μ„¤μ •μ΄ μ—†μΌλ©΄ μƒλ΅μ΄ νλ“λ¥Ό μ¤μΌ€μ¤„λ§ν•μ§€ μ•μ. κΈ°μ΅΄ νλ“λ„ ν…μΈνΈ μ„¤μ •μ„ λ¬΄μ‹ν• μ μλ” ν†¨λ¬λ μ΄μ… μ„¤μ •μ΄ μ—†μΌλ©΄ μΆ…λ£ </span>
</code></pre></div><br> <h2 id="ν΄λ¬μ¤ν„°λ¥Ό-κ΄€λ¦¬ν•λ”-μ»¤λ“ κ³Ό-λ“λ μΈ"><a href="#ν΄λ¬μ¤ν„°λ¥Ό-κ΄€λ¦¬ν•λ”-μ»¤λ“ κ³Ό-λ“λ μΈ" class="header-anchor">#</a> ν΄λ¬μ¤ν„°λ¥Ό κ΄€λ¦¬ν•λ” μ»¤λ“ κ³Ό λ“λ μΈ</h2> <ul><li><p>μΏ λ²„λ„¤ν‹°μ¤λ¥Ό μ‚¬μ©ν•λ‹¤ λ³΄λ©΄ νΉμ • λ…Έλ“μ— μλ” νλ“λ“¤μ„ λ¨λ‘ λ‹¤λ¥Έ λ…Έλ“λ΅ μ®κΈ°κ±°λ‚ νΉμ • λ…Έλ“μ— νλ“λ“¤μ„ μ¤μΌ€μ¤„λ§ν•μ§€ μ•λ„λ΅ μ ν•ν•  ν•„μ” μ΅΄μ¬</p></li> <li><p><strong>μ»¤λ“ (cordon):</strong> μ§€μ •λ λ…Έλ“μ— μ¶”κ°€λ΅ νλ“λ¥Ό μ¤μΌ€μ¤„λ§ν•΄μ„ μ‹¤ν–‰ν•μ§€ μ•λ„λ΅ ν•¨</p></li> <li><p><strong>λ“λ μΈ(drain)</strong></p> <ul><li>λ…Έλ“ κ΄€λ¦¬ λ“±μ μ΄μ λ΅ μ§€μ •λ λ…Έλ“μ— μλ” νλ“λ“¤μ„ λ‹¤λ¥Έ λ…Έλ“λ΅ μ΄λ™μ‹ν‚¤λ” λ…λ Ή</li> <li>λ…Έλ“μ— λ°λ¬μ„ΈνΈλ΅ μ‹¤ν–‰ν• νλ“λ“¤μ΄ μμΌλ©΄ λ°λ¬μ„ΈνΈλ΅ μ‹¤ν–‰ν• νλ“λ“¤μ€ μ‚­μ ν•΄λ„ λ°λ¬μ„ΈνΈκ°€ μ¦‰μ‹ μ¬μ‹¤ν–‰μ‹ν‚¤κΈ° λ•λ¬Έμ— λ“λ μΈ μ„¤μ •μ„ μ μ©ν•  μ μ—†μ</li></ul></li></ul> <br> <h2 id="referenses"><a href="#referenses" class="header-anchor">#</a> Referenses</h2> <ul><li>μΏ λ²„λ„¤ν‹°μ¤ μ…λ¬Έ - 90κ°€μ§€ μμ λ΅ λ°°μ°λ” μ»¨ν…μ΄λ„ κ΄€λ¦¬ μλ™ν™” ν‘μ¤€ / λ™μ–‘λ¶μ¤</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/19/2020, 11:01:49 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      β†
      <a href="/TIL/book-kubernetes/11μ¥ μ‹ν¬λ¦Ώ.html" class="prev">
        11μ¥ μ‹ν¬λ¦Ώ
      </a></span> <span class="next"><a href="/TIL/book-kubernetes/λ³µμ‚¬μ©.html">
        /book-kubernetes/λ³µμ‚¬μ©.html
      </a>
      β†’
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/TIL/assets/js/app.6d51d112.js" defer></script><script src="/TIL/assets/js/2.665be0f4.js" defer></script><script src="/TIL/assets/js/31.7df1dd49.js" defer></script><script src="/TIL/assets/js/9.9b43db21.js" defer></script><script src="/TIL/assets/js/10.0186ca23.js" defer></script>
  </body>
</html>
